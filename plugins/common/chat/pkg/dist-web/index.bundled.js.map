{"version":3,"file":"index.bundled.js","sources":["index.js"],"sourcesContent":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar index = /*#__PURE__*/\n(function () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee8(_ref) {\n    var __deps__, __imports__, _imports__$grommet, Box, TextInput, Button, Keyboard, Anchor, _imports__$utils, React, _, icons, NodeLink, napi, NodeView, iconSize, viewer, view, edit, icon, preview;\n\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            __deps__ = _ref.__deps__, __imports__ = _ref.__imports__;\n            _imports__$grommet = __imports__.grommet, Box = _imports__$grommet.Box, TextInput = _imports__$grommet.TextInput, Button = _imports__$grommet.Button, Keyboard = _imports__$grommet.Keyboard, Anchor = _imports__$grommet.Anchor;\n            _imports__$utils = __imports__.utils, React = _imports__$utils.React, _ = _imports__$utils.lodash, icons = _imports__$utils.icons;\n            NodeLink = __imports__.nodehub.NodeLink;\n            napi = __deps__.napi, NodeView = __deps__.NodeView, iconSize = __deps__.iconSize, viewer = __deps__.viewer;\n\n            view = function view(_ref3) {\n              var node = _ref3.node;\n\n              // const value = _.get(node, 'sides.web.src', defaultSrc)\n              var _React$useState = React.useState([]),\n                  _React$useState2 = _slicedToArray(_React$useState, 2),\n                  messages = _React$useState2[0],\n                  setMessages = _React$useState2[1];\n\n              var _React$useState3 = React.useState(''),\n                  _React$useState4 = _slicedToArray(_React$useState3, 2),\n                  message = _React$useState4[0],\n                  setMessage = _React$useState4[1];\n\n              console.log('VIEWER', viewer);\n\n              var getOrCreateChatNode =\n              /*#__PURE__*/\n              function () {\n                var _ref4 = _asyncToGenerator(\n                /*#__PURE__*/\n                regeneratorRuntime.mark(function _callee() {\n                  var chatNode;\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return napi.findNode({\n                            parentId: node.id,\n                            name: '.chat'\n                          });\n\n                        case 2:\n                          chatNode = _context.sent;\n\n                          if (!(chatNode.status === 'error')) {\n                            _context.next = 7;\n                            break;\n                          }\n\n                          _context.next = 6;\n                          return napi.createNode(null, {\n                            parentId: node.id,\n                            name: '.chat'\n                          });\n\n                        case 6:\n                          chatNode = _context.sent;\n\n                        case 7:\n                          return _context.abrupt(\"return\", chatNode);\n\n                        case 8:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function getOrCreateChatNode() {\n                  return _ref4.apply(this, arguments);\n                };\n              }();\n\n              React.useEffect(function () {\n                var getInitialMessages =\n                /*#__PURE__*/\n                function () {\n                  var _ref5 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  regeneratorRuntime.mark(function _callee3() {\n                    var chatNode, messageNodes, _messages;\n\n                    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                      while (1) {\n                        switch (_context3.prev = _context3.next) {\n                          case 0:\n                            _context3.next = 2;\n                            return getOrCreateChatNode();\n\n                          case 2:\n                            chatNode = _context3.sent;\n                            console.log('chat node', chatNode);\n                            _context3.next = 6;\n                            return napi.getNodeChildren(chatNode);\n\n                          case 6:\n                            messageNodes = _context3.sent;\n                            console.log('message nodes', messageNodes);\n                            _context3.next = 10;\n                            return Promise.all(messageNodes.items.map(\n                            /*#__PURE__*/\n                            function () {\n                              var _ref6 = _asyncToGenerator(\n                              /*#__PURE__*/\n                              regeneratorRuntime.mark(function _callee2(msgNode) {\n                                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                                  while (1) {\n                                    switch (_context2.prev = _context2.next) {\n                                      case 0:\n                                        _context2.t0 = msgNode.id;\n                                        _context2.t1 = msgNode.name;\n                                        _context2.next = 4;\n                                        return napi.getNode(msgNode.sides.users.filter(function (u) {\n                                          return u.role === 'admin';\n                                        })[0].id);\n\n                                      case 4:\n                                        _context2.t2 = _context2.sent;\n                                        return _context2.abrupt(\"return\", {\n                                          id: _context2.t0,\n                                          text: _context2.t1,\n                                          author: _context2.t2\n                                        });\n\n                                      case 6:\n                                      case \"end\":\n                                        return _context2.stop();\n                                    }\n                                  }\n                                }, _callee2);\n                              }));\n\n                              return function (_x2) {\n                                return _ref6.apply(this, arguments);\n                              };\n                            }()));\n\n                          case 10:\n                            _messages = _context3.sent;\n                            // setMessages(messageNodes.items.map(msgNode => ({ id: msgNode.id, text: msgNode.name, author: msgNode.sides.users[0] })))\n                            setMessages(_messages);\n\n                          case 12:\n                          case \"end\":\n                            return _context3.stop();\n                        }\n                      }\n                    }, _callee3);\n                  }));\n\n                  return function getInitialMessages() {\n                    return _ref5.apply(this, arguments);\n                  };\n                }();\n\n                getInitialMessages();\n              }, []);\n              React.useEffect(function () {\n                var callback =\n                /*#__PURE__*/\n                function () {\n                  var _ref8 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  regeneratorRuntime.mark(function _callee4(_ref7) {\n                    var type, node, author;\n                    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                      while (1) {\n                        switch (_context4.prev = _context4.next) {\n                          case 0:\n                            type = _ref7.type, node = _ref7.node;\n                            console.log('chat update!', type, node);\n                            _context4.next = 4;\n                            return napi.getNode(node.sides.users.filter(function (u) {\n                              return u.role === 'admin';\n                            })[0].id);\n\n                          case 4:\n                            author = _context4.sent;\n                            console.log('author', author);\n\n                            if (type === 'add') {\n                              setMessages([].concat(_toConsumableArray(messages), [{\n                                id: messages.length + 1,\n                                text: node.name,\n                                author: author\n                              }]));\n                            }\n\n                          case 7:\n                          case \"end\":\n                            return _context4.stop();\n                        }\n                      }\n                    }, _callee4);\n                  }));\n\n                  return function callback(_x3) {\n                    return _ref8.apply(this, arguments);\n                  };\n                }();\n\n                var subscribe =\n                /*#__PURE__*/\n                function () {\n                  var _ref9 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  regeneratorRuntime.mark(function _callee5() {\n                    var chatNode;\n                    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            _context5.next = 2;\n                            return getOrCreateChatNode();\n\n                          case 2:\n                            chatNode = _context5.sent;\n                            napi.subscribeToNodeChildrenUpdates(chatNode.id, callback);\n\n                          case 4:\n                          case \"end\":\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5);\n                  }));\n\n                  return function subscribe() {\n                    return _ref9.apply(this, arguments);\n                  };\n                }();\n\n                var unsubscribe =\n                /*#__PURE__*/\n                function () {\n                  var _ref10 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  regeneratorRuntime.mark(function _callee6() {\n                    var chatNode;\n                    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n                      while (1) {\n                        switch (_context6.prev = _context6.next) {\n                          case 0:\n                            _context6.next = 2;\n                            return getOrCreateChatNode();\n\n                          case 2:\n                            chatNode = _context6.sent;\n                            napi.unsubscribeFromNodeChildrenUpdates(chatNode.id, callback);\n\n                          case 4:\n                          case \"end\":\n                            return _context6.stop();\n                        }\n                      }\n                    }, _callee6);\n                  }));\n\n                  return function unsubscribe() {\n                    return _ref10.apply(this, arguments);\n                  };\n                }();\n\n                subscribe();\n                return function () {\n                  unsubscribe();\n                };\n              });\n\n              var sendMessage =\n              /*#__PURE__*/\n              function () {\n                var _ref11 = _asyncToGenerator(\n                /*#__PURE__*/\n                regeneratorRuntime.mark(function _callee7() {\n                  var chatNode, newMessageNode;\n                  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n                    while (1) {\n                      switch (_context7.prev = _context7.next) {\n                        case 0:\n                          console.log('in submit', message);\n\n                          if (!(message !== '')) {\n                            _context7.next = 10;\n                            break;\n                          }\n\n                          _context7.next = 4;\n                          return getOrCreateChatNode();\n\n                        case 4:\n                          chatNode = _context7.sent;\n                          _context7.next = 7;\n                          return napi.createNode(null, {\n                            parentId: chatNode.id,\n                            name: message,\n                            sides: {\n                              users: [{\n                                id: viewer.node,\n                                role: 'admin'\n                              }]\n                            }\n                          });\n\n                        case 7:\n                          newMessageNode = _context7.sent;\n                          console.log('new message node', newMessageNode); // setMessages([...messages, { id: messages.length + 1, text: message }])\n\n                          setMessage('');\n\n                        case 10:\n                        case \"end\":\n                          return _context7.stop();\n                      }\n                    }\n                  }, _callee7);\n                }));\n\n                return function sendMessage() {\n                  return _ref11.apply(this, arguments);\n                };\n              }();\n\n              return React.createElement(Box, {\n                fill: true,\n                align: \"center\",\n                justify: \"center\"\n              }, React.createElement(Box, {\n                overflow: \"scroll\",\n                fill: true,\n                align: \"center\",\n                background: {\n                  color: 'black',\n                  opacity: 'medium'\n                },\n                pad: \"small\"\n              }, messages.map(function (message) {\n                return React.createElement(Box, {\n                  key: message.id,\n                  fill: \"horizontal\",\n                  height: {\n                    min: 'xsmall',\n                    max: 'xsmall'\n                  },\n                  background: {\n                    color: 'black',\n                    opacity: 'medium'\n                  },\n                  pad: \"small\"\n                }, message.author.name, \": \", React.createElement(NodeLink, {\n                  node: message.id\n                }, React.createElement(Anchor, null, message.text)));\n              })), React.createElement(Box, {\n                direction: \"row\",\n                fill: \"horizontal\",\n                pad: \"small\",\n                background: {\n                  color: 'black',\n                  opacity: 'medium'\n                },\n                gap: \"xsmall\"\n              }, React.createElement(Keyboard, {\n                onEnter: function onEnter(e) {\n                  return sendMessage();\n                }\n              }, React.createElement(TextInput, {\n                autoFocus: true,\n                value: message,\n                onChange: function onChange(event) {\n                  return setMessage(event.target.value);\n                }\n              })), React.createElement(Button, {\n                label: \"Send\",\n                onClick: function onClick() {\n                  return sendMessage();\n                }\n              })));\n            };\n\n            edit = view;\n\n            icon = function icon(_ref12) {\n              var node = _ref12.node;\n              return React.createElement(Box, {\n                fill: true,\n                align: \"center\",\n                justify: \"center\"\n              }, React.createElement(icons.Chat, {\n                size: iconSize\n              }));\n            };\n\n            preview = icon;\n            return _context8.abrupt(\"return\", {\n              modes: {\n                icon: icon,\n                preview: preview,\n                view: view,\n                edit: edit\n              }\n            });\n\n          case 10:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n})();\n\nexport default index;\n//# sourceMappingURL=index.js.map\n"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","Object","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","_iterableToArrayLimit","_nonIterableRest","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","index","_ref2","regeneratorRuntime","mark","_callee8","_ref","__deps__","__imports__","_imports__$grommet","Box","TextInput","Button","Keyboard","Anchor","_imports__$utils","React","icons","NodeLink","napi","iconSize","viewer","view","edit","icon","preview","wrap","_context8","prev","grommet","utils","lodash","nodehub","NodeView","_ref3","node","_React$useState2","useState","messages","setMessages","_React$useState4","message","setMessage","console","log","getOrCreateChatNode","_ref4","_callee","chatNode","_context","findNode","parentId","id","name","sent","status","createNode","abrupt","stop","useEffect","_ref5","_callee3","messageNodes","_messages","_context3","getNodeChildren","all","items","map","_ref6","_callee2","msgNode","_context2","t0","t1","getNode","sides","users","filter","u","role","t2","text","author","_x2","getInitialMessages","callback","_ref8","_callee4","_ref7","type","_context4","concat","_x3","subscribe","_ref9","_callee5","_context5","subscribeToNodeChildrenUpdates","unsubscribe","_ref10","_callee6","_context6","unsubscribeFromNodeChildrenUpdates","sendMessage","_ref11","_callee7","newMessageNode","_context7","createElement","fill","align","justify","overflow","background","color","opacity","pad","height","min","max","direction","gap","onEnter","e","autoFocus","onChange","event","target","label","onClick","_ref12","Chat","size","modes","_x"],"mappings":"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"}